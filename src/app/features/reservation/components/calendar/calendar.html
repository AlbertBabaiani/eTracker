<app-calendar-controls
  [label]="currentLabel()"
  [currentView]="view()"
  (navigate)="navigate($event)"
  (viewChange)="view.set($event)"
  (today)="goToToday()"
/>

<!-- 2. Year View Grid -->
@if (view() === 'year') {
  <app-year-view
    [currentDate]="currentDate()"
    [selectedDate]="selectedDate()"
    (monthSelection)="monthSelection($event)"
  />
}

<!-- 3. Day (Timeline) View -->
@else if (view() === 'day') {
  <app-day-view [currentDate]="currentDate()" [reservations]="getCurrentDayReservations()" />
}

<!-- 4. Month / Week Grid -->
@else {
  <app-week-month-view
    [view]="view()"
    [days]="calendarDays()"
    (viewDate)="onDayClick($event)"
    (startReservation)="openAddReservation($event)"
  />
}

<!-- 5. Bottom Panel: Properties List -->
<app-property-selection
  [properties]="properties()"
  [selectedPropertyId]="selectedPropertyId()"
  (selectProperty)="selectedPropertyId.set($event)"
/>
